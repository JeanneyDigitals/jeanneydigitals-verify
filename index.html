<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Receipt Verification - JeanneyDigitals</title>
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      margin: 0;
      background: #f9fafc;
      color: #333;
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100vh;
    }
    .container {
      background: white;
      border-radius: 16px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      padding: 2rem;
      text-align: center;
      max-width: 420px;
      width: 90%;
    }
    .logo {
      width: 100px;
      height: 100px;
      border-radius: 50%;
      object-fit: cover;
      margin-bottom: 1rem;
    }
    h1 { color: #0077cc; margin-bottom: 0.5rem; }
    .verified, .notfound {
      padding: 0.5rem 1rem;
      border-radius: 9999px;
      font-weight: 600;
      display: inline-block;
      margin-bottom: 1rem;
    }
    .verified { background-color: #ff7b00; color: white; }
    .notfound { background-color: #d32f2f; color: white; }
    .details {
      text-align: left;
      background: #f3f7fa;
      padding: 1rem;
      border-radius: 12px;
      margin-bottom: 1.5rem;
    }
    .details p { margin: 0.25rem 0; }
    footer { font-size: 0.85rem; color: #555; }
  </style>
</head>
<body>
  <div class="container">
    <!-- üí° Replace 'logo.png' with your actual logo file -->
    <img src="logo.png" alt="JeanneyDigitals Logo" class="logo" />
    <h1 id="status-title">Checking...</h1>
    <div id="status-badge" class="verified" style="display:none;">‚úÖ Verified</div>
    <div id="error-badge" class="notfound" style="display:none;">‚ùå Not Found</div>

    <div id="details" class="details" style="display:none;">
      <p><strong>Receipt ID:</strong> <span id="receipt-id"></span></p>
      <p><strong>Client Name:</strong> <span id="client Name"></span></p>
      <p><strong>Date:</strong> <span id="date"></span></p>
      <p><strong>Amount:</strong> $<span id="amount"></span></p>
        <p><strong>Amount in words:</strong> $<span id="amount in words"></span></p>
      <p><strong>Payment Transaction:</strong> <span id="payment transaction"></span></p>
    </div>

    <p id="message">Verifying your receipt...</p>
    <footer>&copy; 2025 JeanneyDigitals. All rights reserved.</footer>
  </div>

  <script>
    const params = new URLSearchParams(window.location.search);
    const id = params.get('id') || window.location.href.split('/').pop();
    const SHEET_URL = "https://opensheet.elk.sh/10fnuJ5yyL1jmsc7cvv2HfIbuYnz_PWj_hJbCgtD80-w/for%20verification"; // Replace YOUR_SHEET_ID with your actual ID

    document.getElementById("receipt-id").textContent = id;

    fetch(SHEET_URL)
      .then(res => res.json())
      .then(data => {
        const match = data.find(row => row["Receipt ID"] === id);
        if (match) {
          document.getElementById("status-title").textContent = "Receipt Verified";
          document.getElementById("status-badge").style.display = "inline-block";
          document.getElementById("details").style.display = "block";
          document.getElementById("client-name").textContent = match["Client Name"] || " ";
          document.getElementById("date").textContent = match["Date"] || "MM-DD-YYYY";
          document.getElementById("amount").textContent = match["Amount"] || "00000.00";
          document.getElementById("amount-in-words").textContent = match["Amount in words"] || "‚Äî";
          document.getElementById("payment-transaction").textContent = match["Payment Transaction"] || "‚Äî";
          document.getElementById("message").textContent = "Thank you for your purchase!";
        } else {
          document.getElementById("status-title").textContent = "Receipt Not Found";
          document.getElementById("error-badge").style.display = "inline-block";
          document.getElementById("message").textContent = "This receipt could not be verified.";
        }
      })
      .catch(err => {
        console.error(err);
        document.getElementById("status-title").textContent = "Error connecting to verification server.";
        document.getElementById("message").textContent = "Please try again later.";
      });
  </script>
</body>
</html>
